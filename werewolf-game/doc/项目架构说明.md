# 🏗️ 项目架构说明

## 项目概述

AI狼人杀游戏是一个用于评估不同AI模型推理和策略能力的测试平台。项目采用模块化设计，支持多种图形界面框架。

## 架构设计

### 整体架构
```
werewolf-game/
├── qt-project/         # PyQt6版本
│   ├── src/           # 源代码
│   └── config/        # 配置
├── ctk-project/       # CustomTkinter版本
│   ├── src/           # 源代码
│   └── config/        # 配置
└── doc/               # 文档
```

### 核心模块

#### 1. 游戏引擎 (Game Engine)
- 负责游戏规则执行
- 管理游戏状态和回合
- 处理玩家行动和投票

#### 2. AI控制器 (AI Controller)
- 集成多个AI提供商
- 处理AI对话和决策
- 管理API调用和响应

#### 3. 配置管理 (Config Manager)
- YAML配置文件解析
- 设置管理和验证
- 默认配置处理

#### 4. 用户界面 (UI Framework)
- PyQt6版本：现代化桌面界面
- CustomTkinter版本：轻量级界面

## 技术栈

### PyQt6版本
- **界面框架**: PyQt6
- **配置文件**: YAML
- **网络请求**: requests
- **日志系统**: logging

### CustomTkinter版本
- **界面框架**: CustomTkinter
- **配置文件**: YAML
- **网络请求**: requests
- **日志系统**: logging

## 数据流

1. **游戏初始化**
   - 加载配置文件
   - 初始化游戏引擎
   - 分配玩家角色

2. **游戏进行**
   - 夜晚行动阶段
   - 白天讨论阶段
   - 投票淘汰阶段

3. **AI交互**
   - 发送游戏状态给AI
   - 接收AI决策
   - 更新游戏状态

4. **界面更新**
   - 实时显示游戏状态
   - 用户交互处理
   - 结果展示

## 扩展性设计

### 模块化设计
- 游戏逻辑与界面分离
- AI提供商可插拔
- 配置系统灵活

### 多界面支持
- 同一套游戏逻辑
- 不同的界面实现
- 便于功能对比测试

### 配置驱动
- 游戏参数可配置
- AI模型可切换
- 界面主题可定制